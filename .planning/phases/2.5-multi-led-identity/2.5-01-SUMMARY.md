---
phase: 2.5-multi-led-identity
plan: 01
subsystem: vision
tags: [parser, signal-identity, object-permanence, diff-enablement]
requires:
  - phase: 01-02
    provides: [vision-driver, camera-driver, signal-parser]
provides:
  - Stable LED signal identity (LED1, LED2, LED3)
  - Index-based deterministic naming
  - Object permanence for perception kernel
  - Phase 3 diff enablement
affects: [03-01, 03-02]
tech-stack:
  added: []
  patterns: [index-based-identity, object-permanence]
key-files:
  created: []
  modified: [internal/vision/parser.go]
key-decisions:
  - "Index-based LED naming (LED1, LED2, LED3) establishes object permanence"
  - "No spatial tracking in MVP - appearance order is sufficient"
  - "Deterministic identity enables diff across firmware versions"
issues-created: []
duration: 1 min
completed: 2026-02-11
---

# Phase 2.5 Plan 1: Multi-LED Identity Summary

**Index-based LED naming establishes object permanence - perception kernel gains stable signal identity**

## Performance

- **Duration:** 1 min
- **Started:** 2026-02-11T17:15:01Z
- **Completed:** 2026-02-11T17:15:42Z
- **Tasks:** 2/2
- **Files modified:** 1

## Accomplishments

- LED names assigned by index: LED1, LED2, LED3 (not "UNKNOWN")
- Stable signal identity across multiple observe runs
- Object permanence achieved: LED1 today == LED1 tomorrow
- Phase 3 diff unblocked (requires stable signal identity)
- Perception kernel can now track individual LEDs across observations

## Task Commits

Each task was committed atomically:

1. **Task 1: Assign deterministic LED names by index** - `8bc17db` (fix)

**Plan metadata:** `51013bf` (docs: complete plan)

## Files Created/Modified

**Modified:**
- `internal/vision/parser.go` - Changed from name="UNKNOWN" to name="LED1", "LED2", "LED3" by index

## Decisions Made

1. **Index-based naming (not parsed names)**: Assign LED1, LED2, LED3 by appearance order instead of parsing unreliable names from Claude Vision output. This establishes deterministic identity.

2. **No spatial tracking in MVP**: Appearance order (top-to-bottom, left-to-right) is stable enough for MVP. Spatial clustering can be added later if needed.

3. **Object permanence as architectural primitive**: This is the foundational layer between computer vision and system observability. Without stable identity, diff/assertions/regression-detection collapse.

## Deviations from Plan

None - plan executed exactly as written. Surgical fix applied.

## Issues Encountered

None - straightforward parser change, no complications.

## Next Phase Readiness

**Phase 2.5 complete! Ready for Phase 3: Diff + Firmware Tracking.**

Phase 2.5 delivered:
- ✅ Stable LED signal identity (LED1, LED2, LED3)
- ✅ Object permanence for perception kernel
- ✅ Deterministic naming across observe runs
- ✅ Diff unblocked (can compare LED1 before/after firmware changes)

**Critical architectural achievement**: Introduced object permanence as the missing primitive between computer vision and system observability.

**Verification needed**: Run `./percepta observe fpga` twice and confirm:
- Same LED count across runs
- Same LED names (LED1, LED2, LED3)
- Same logical states (blink/solid)

After verification, Phase 3 is greenlit.

Success criteria: Perception kernel has stable signal identity. Diff can now compare behavioral changes across firmware versions.

---
*Phase: 2.5-multi-led-identity (INSERTED)*
*Completed: 2026-02-11*
